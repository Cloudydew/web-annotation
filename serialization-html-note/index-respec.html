<!DOCTYPE html>
<html>
  <head>
    <title>Embedding Web Annotations in HTML</title>
    <meta charset='utf-8'></meta>
    <style>.turtle .hll { background-color: #ffffcc }

.turtle .c { color: #408080; font-style: italic } /* Comment */
.turtle .err { border: 1px solid #FF0000 } /* Error */
.turtle .k { color: #008000; font-weight: bold } /* Keyword */
.turtle .o { color: #666666 } /* Operator */
.turtle .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.turtle .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.turtle .cp { color: #BC7A00 } /* Comment.Preproc */
.turtle .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.turtle .c1 { color: #408080; font-style: italic } /* Comment.Single */
.turtle .cs { color: #408080; font-style: italic } /* Comment.Special */
.turtle .gd { color: #A00000 } /* Generic.Deleted */
.turtle .ge { font-style: italic } /* Generic.Emph */
.turtle .gr { color: #FF0000 } /* Generic.Error */
.turtle .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.turtle .gi { color: #00A000 } /* Generic.Inserted */
.turtle .go { color: #888888 } /* Generic.Output */
.turtle .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.turtle .gs { font-weight: bold } /* Generic.Strong */
.turtle .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.turtle .gt { color: #0044DD } /* Generic.Traceback */
.turtle .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.turtle .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.turtle .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.turtle .kp { color: #008000 } /* Keyword.Pseudo */
.turtle .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.turtle .kt { color: #B00040 } /* Keyword.Type */
.turtle .m { color: #666666 } /* Literal.Number */
.turtle .s { color: #BA2121 } /* Literal.String */
.turtle .na { color: #7D9029 } /* Name.Attribute */
.turtle .nb { color: #008000 } /* Name.Builtin */
.turtle .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.turtle .no { color: #880000 } /* Name.Constant */
.turtle .nd { color: #AA22FF } /* Name.Decorator */
.turtle .ni { color: #999999; font-weight: bold } /* Name.Entity */
.turtle .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.turtle .nf { color: #0000FF } /* Name.Function */
.turtle .nl { color: #A0A000 } /* Name.Label */
.turtle .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.turtle .nt { color: #008000; font-weight: bold } /* Name.Tag */
.turtle .nv { color: #19177C } /* Name.Variable */
.turtle .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.turtle .w { color: #bbbbbb } /* Text.Whitespace */
.turtle .mb { color: #666666 } /* Literal.Number.Bin */
.turtle .mf { color: #666666 } /* Literal.Number.Float */
.turtle .mh { color: #666666 } /* Literal.Number.Hex */
.turtle .mi { color: #666666 } /* Literal.Number.Integer */
.turtle .mo { color: #666666 } /* Literal.Number.Oct */
.turtle .sa { color: #BA2121 } /* Literal.String.Affix */
.turtle .sb { color: #BA2121 } /* Literal.String.Backtick */
.turtle .sc { color: #BA2121 } /* Literal.String.Char */
.turtle .dl { color: #BA2121 } /* Literal.String.Delimiter */
.turtle .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.turtle .s2 { color: #BA2121 } /* Literal.String.Double */
.turtle .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.turtle .sh { color: #BA2121 } /* Literal.String.Heredoc */
.turtle .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.turtle .sx { color: #008000 } /* Literal.String.Other */
.turtle .sr { color: #BB6688 } /* Literal.String.Regex */
.turtle .s1 { color: #BA2121 } /* Literal.String.Single */
.turtle .ss { color: #19177C } /* Literal.String.Symbol */
.turtle .bp { color: #008000 } /* Name.Builtin.Pseudo */
.turtle .fm { color: #0000FF } /* Name.Function.Magic */
.turtle .vc { color: #19177C } /* Name.Variable.Class */
.turtle .vg { color: #19177C } /* Name.Variable.Global */
.turtle .vi { color: #19177C } /* Name.Variable.Instance */
.turtle .vm { color: #19177C } /* Name.Variable.Magic */
.turtle .il { color: #666666 } /* Literal.Number.Integer.Long */</style><style>
        .model {
            empty-cells: show;
            border-collapse: collapse;
            margin-bottom: .5ex;
            border: 1px solid black;
            width: 100%;
        }

        .model th {
            padding: 3px;
            border: 1px solid #404040;
            text-align: center;
            font-weight: bold;
        }

        .model td {
            padding: 5px;
            border: 1px solid #404040;
            text-align: left;
        }

        .ex_title {
            margin-top: 2rem;
            font-style: italic;
            color: #005A9C;
        }
        span.orcid a  {
            text-decoration: none !important;
            border: none !important;
        }
        span.orcid a img {
            transform: translateY(3px);
        }
      </style>
      <script src='https://www.w3.org/Tools/respec/respec-w3c-common' async='true' class='remove'></script>
      <script class='remove'>
      var respecConfig = {
          specStatus: "WG-NOTE",
          shortName:  "html-web-annotations",
          subtitle:   "Reference Note",
          errata:     "https://www.w3.org/annotation/errata/",
          editors: [
                {   name:       "Timothy W. Cole",
                    url:        "http://www.library.illinois.edu/people/bios/t-cole3/",
                    company:    "University of Illinois at Urbana-Champaign",
                    companyURL: "http://illinois.edu",
                    mailto:     "t-cole3@illinois.edu",  
                    extras:     [{
                      name:  "<img src='orcid_logo.png' />",
                      href:  "https://orcid.org/0000-0002-5906-4581",
                      class: "orcid"
                    }],
                },
                {   name:       "Sarven Capadisli",
                    url:       "http://csarven.ca/#i",
                    company:    "University of Bonn",
                    companyURL: "http://eis.iai.uni-bonn.de/",
                    mailto:     "info@csarven.ca"
                },
                {   name:       "Benjamin Young",
                    url:       "http://bigbluehat.com/",
                    company:    "John Wiley &amp; Sons, Inc.",
                    companyURL: "http://www.wiley.com/",
                    mailto:     "byoung@bigbluehat.com"
                },
                {   name:       "3rd editor...",
                    url:       "http://example.org/",
                    company:    "company",
                    companyURL: "http://example.org/",
                    mailto:     "x@example.org",
                    extras:     [{
                      name:  "<img src='orcid_logo.png' />",
                      href:  "https://orcid.org/0000",
                      class: "orcid"
                    }],
                }
          ],
          edDraftURI:           "http://w3c.github.io/web-annotation/serialization-html-note/",
          wg:                   "Web Annotation Working Group",
          wgURI:                "http://www.w3.org/annotation/",
          wgPublicList:         "public-annotation",
          wgPatentURI:          "http://www.w3.org/2004/01/pp-impl/73180/status",
          noRecTrack:           true,
          localBiblio: {
            "iana-media-types": {
                title: "Media Types",
                href: "http://www.iana.org/assignments/media-types/",
                publisher: "IANA (Internet Assigned Numbers Authority)"
            },
            "iconclass": {
              title: "Iconclass",
              href: "http://iconclass.org",
              publisher: "RKD, The Netherlands Institute for Art History"          
          },            
            "w3c-language-tags": {
                title: "Language Tags in HTML and XML",
                href: "https://www.w3.org/International/articles/language-tags/",
                publisher: "W3C"
            },
            "annotation-vocab": {
              "authors": [
                 "Robert Sanderson",
                 "Paolo Ciccarese",
                 "Benjamin Young"
              ],
              title: "Web Annotation Vocabulary",
              href: "http://www.w3.org/TR/2017/WD-annotation-vocab-20170117/",
              publisher: "W3C",
              rawDate: "2017-01-17",
              status: "PR"
            },
            "annotation-model": {
              "authors": [
                    "Robert Sanderson",
                    "Paolo Ciccarese",
                    "Benjamin Young"
              ],
              title: "Web Annotation Data Model",
              href: "http://www.w3.org/TR/2017/WD-annotation-model-20170117/",
              publisher: "W3C",
              rawDate: "2017-01-17",
              status: "PR"
            },
            "annotation-protocol": {
              "authors": [
                    "Robert Sanderson"
              ],
              title: "Web Annotation Protocol",
              href: "http://www.w3.org/TR/2017/WD-annotation-protocol-20170117/",
              publisher: "W3C",
              rawDate: "2017-01-17",
              status: "PR"
            },
            "cfi": {
                "authors" : [
                    "Peter Sorotokin",
                    "Garth Conboy",
                    "Brady Duga",
                    "John Rivlin",
                    "Don Beaver",
                    "Kevin Ballard",
                    "Alastair Fettes",
                    "Daniel Weck"
                ],
                title: "EPUB Canonical Fragment Identifiers",
                href: "http://www.idpf.org/epub/linking/cfi/epub-cfi-20140628.html",
                publisher: "IDPF",
                rawDate: "2014-06-26",
                status: "Recommended Specification"
            },
            "html-notes": {
              "authors": [
                 "Shane McCarron",
                 "David MacDonald"
              ],
              title: "HTML Notes and Note References",
              href: "http://spec-ops.github.io/html-note/index.html",
              publisher: "Spec-Ops",
              rawDate: "2016-04-26",
              status: "Unofficial Draft"
            },
            "selectors-states": {
              "authors": [
                 "Ivan Herman",
                 "Robert Sanderson",
                 "Paolo Ciccarese",
                 "Benjamin Young"
              ],
              title: "Selectors and States",
              href: "http://w3c.github.io/web-annotation/selectors/",
              publisher: "W3C",
              rawDate: "2017-01-20",
              status: "Reference Note"
            }
          }, 
          otherLinks: [
            {
                key: "Repository",
                data: [{
                    value: "Github Repository",
                    href: "https://github.com/w3c/web-annotation"
                }, {
                    value: "File an issue",
                    href: "https://github.com/w3c/web-annotation/issues"
                }]
            }
        ],
        noIDLIn: true,
        issueBase: "https://github.com/w3c/web-annotation/issues/"
      };
      </script>
    </head>
    <body>
        <section id="abstract">
            <p>The Web Annotation Working Group has published three Recommendations for annotating resources found on the Web:
                the Web Annotation Data Model [[annotation-model]]; the Web Annotation Vocabulary [[annotation-vocab]]; and the
                Web Annotation Protocol [[annotation-protocol]]. These Recommendations describe a JSON-LD [[json-ld]] serialization 
                of the Model (media type: <code>application/ld+json;profile="http://www.w3.org/ns/anno.jsonld"</code>).</p>
            
            <p>This Note describes and illustrates potential approaches for including annotations 
                within HTML documents. Examples also are included illustrating the use within an HTML document
                of annotation Selectors as fragment identifiers . (The Working Group's Selectors and States Reference 
                Note [[selectors-states]] defines the syntax used for Selectors as fragment identifiers.)</p>
            
            <p>The approaches described in this document are incomplete and preliminary. They do not exhaust the full range of feasible options.
                The approaches discussed in this note have emerged from Working Group discussions and should be considered no more 
                than initial starting points for further discussion, experimentation and development.</p>
        </section>
        
        <section id="sotd">
        </section>

        <section>
            <h2>Introduction</h2>

            <p>According to the Web Annotation Data Model [[annotation-model]]:
                <blockquote>
                  <p>"An annotation is considered to be
                  a set of connected resources, typically including a body and target, and conveys that the body
                  is related to the target.... This perspective results in a basic model with three parts,
                  depicted below."</p>
                  <img src="images/intro_model.png" alt="Basic Model: Annotation, Body and Target" width="400"/>
                </blockquote>
            </p>
            
            <p>The Model goes on to define an extensible, interoperable
                framework for expressing such annotations in RDF-based vocabularies. The Model additionally defines
                a JSON-LD [[json-ld]] serialization of that framework. However, the Model does not prescribe a means for including an
                annotation within a Web page (HTML document)--even when the annotation targets all or part of the page itself or 
                all or part of another, external Resource linked from the page.</p>
            
            <p>For example, the quotation above is simply an HTML blockquote and contains no encoded reference to the quotation
               as it exists within the Web Annotation Data Model Recommendation [[annotation-model]], an HTML document.</p>
            
            <p>This Note considers how a conformant expression of a Web annotation or 
                annotation <a href="#dfn-selector" class="internalDFN" data-link-type="dfn">Selector</a>
                that references a segment of an HTML document might usefully be embedded within the same or another HTML document. 
                In addition to text embedded within the DOM, HTML documents often reference external resources such as 
                images that are meant to be considered integral parts of an HTML Document when viewed on the Web,
                e.g., through the use of the HTML &lt;img&gt; element's src attribute. Approaches discussed in this Note
                would facilitate embedding in HTML an annotation targeting (in the context or scope of a Web page) an image 
                or other similar Web page component resource external to an HTML document. </p>
            
            <section>
                <h3>Scope</h3>
                <p>Pending further experimentation, use-case development, incubation and broader collaborative efforts, 
                    this Note stops short of proposing any new, annotation-specific extensions to HTML 5 [[html]]. 
                    Nor does it propose any new, annotation-specific HTML elements or attributes. To address specific
                    use cases, possible extensions of HTML have been discussed within the Web Annotation Working Group
                    and elsewhere, e.g., an informal proposal for new note, notegroup, and noteref HTML elements to better handle
                    footnote-style references within HTML documents [[html-notes]]. But for now this Note only considers
                    approaches that can work out of the box today, without the need for an extension of HTML or the Web Annotation
                    Vocabulary [[annotation-vocab]]. These approaches rely on existing mechanisms, e.g., RDFa, JSON-LD, 
                    fragment identifiers, to embed annotations and elements of annotations within HTML documents. </p>
                
                <p>This document also neither addresses nor proposes user interface implementations. Some illustrations included have been
                   drawn from demonstration or developmental implementations that include user interface features, but the focus of this
                   Note is the inclusion of annotations in HTML, not interface design.</p>
            </section>
            
            <section>
                <h3>Motivation</h3>
                
                <p>The interest in embedding Web Annotations within HTML
                  is motivated by several generic use cases that predate or have arisen over the course
                  of the Web Annotation Working Group's existence, a few of which are listed here:
                    <dl>
                        <dt>Personal Annotating</dt>
                        <dd>Personal annotations added to a locally stored or cached copy of an HTML Web page can
                            obviate the need to create and maintain a separate system to store and manage annotations.
                            Such annotations could be shared on a limited basis (e.g., via email) by sharing the locally modified HTML, 
                            prior to or instead of sharing the annotations publicly.</dd>

                        <dt>Offline-first Annotations</dt>
                        <dd>Annotations made while offline and embedded in a local copy of HTML might later be extracted from the 
                            locally stored HTML and published to an online, centralized Web Annotation Protocol [[annotation-protocol]] 
                            store of annotations when the user is back online.</dd>

                        <dt>Lighweight, decentralized Annotation Tools</dt>
                        <dd>Embedding annotations in HTML may facilitate the creation of lightweight
                            annotation tools that are meant to be deployed in a decentralized fashion
                            (i.e. copies deployed by individuals and used independently of any centralized annotation server
                            or service). </dd>

                        <dt>Collaborative Annotating</dt>
                        <dd>Directly adding annotations to an HTML Web page that is being collaboratively authored, edited, and/or curated
                            by a group of individuals, obviates the need for the group to agree on and select a single, central annotation repository
                            or collaboration environment. But because the annotations as stored in the HTML still use a standard model and vocabulary,
                            individualized tools used by members of the group for viewing and interacting with the annotations can still 
                            refer to the standard set of elements and attributes.</dd>

                        <dt>Wholly Internal Annotations</dt>
                        <dd>Requiring the external storage of internal (e.g., footnote) annotations, i.e., annotations linking text (an annotation target) 
                            appearing at one point in an HTML document to text (an annotation body) appearing elsewhere in the same HTML document is 
                            inefficient in most instances and can make interactive displays of these annotations unduly complicated.</dd>
                    </dl>
                </p>
            </section>

            <section>
                <h3>Model and Vocabulary Conformance</h3>
                <p>The Web Annotation Recommendations constrain approaches used for embedding annotations in HTML:</p>
                <ul>
                    <li>An annotation must have exactly one IRI that identifies it. It is not required that this IRI be de-referenceable.</li>
                    <li>If an annotation is disseminated independently from the HTML document, the requirements of 
                        the Data Model [[annotation-model]] Section 3.3.7 (Other Identities) must be observed.</li>
                    <li>TODO? put here the salient points from the discussion of context documents and vocab from issue #347</li>
                    <li>TODO? RDF constraints?</li>
                </ul>
            </section>

            <section>
                <h3>Terminology</h3>
                <p>TODO: add / subtract additional terminology as needed.</p>
                <dl>
                  <dt><dfn data-lt="IRI|IRIs">IRI</dfn></dt>
                  <dd>An <a>IRI</a>, or Internationalized Resource Identifier, is an extension to the URI specification to allow characters from Unicode, whereas URIs must be made up of a subset of ASCII characters. There is a mapping algorithm for translating between IRIs and the equivalent encoded URI form. IRIs are defined by [[rfc3987]].</dd>

                  <dt><dfn data-lt="Resource|Resources">Resource</dfn></dt>
                  <dd>An item of interest that MAY be identified by an <a>IRI</a>.</dd>

                  <dt><dfn data-lt="Web Resource|Web Resources">Web Resource</dfn></dt>
                  <dd>A <a>Resource</a> that MUST be identified by an <a>IRI</a>, as described in the Web Architecture [[webarch]]. Web Resources MAY be dereferencable via their IRI.</dd>

                  <dt><dfn data-lt="External Web Resource|External Web Resources">External Web Resource</dfn></dt>
                  <dd>A <a>Web Resource</a> which is not part of the representation the selection, such as a web page, image, or video. External Web Resources are dereferencable from their <a>IRI</a>.</dd>
                    
                  <dt><dfn data-lt="segment">Segment (of Interest)</dfn></dt>
                    <dd>The part of the <a href="#dfn-source" class="internalDFN" data-link-type="dfn">Source</a> 
                        resource that is selected using a Selector.
                    </dd>

                  <dt><dfn data-dfn-type="dfn" id="dfn-source">Source</dfn></dt>
                  <dd>The overall <a href="#dfn-web-resource" class="internalDFN" data-link-type="dfn">Web Resource</a> 
                      whose selection is refined through the usage of 
                      <a href="#dfn-selector" class="internalDFN" data-link-type="dfn">Selectors</a> or 
                      <a href="#dfn-state" class="internalDFN" data-link-type="dfn">States</a>.
                  </dd>
                    
                  <dt><dfn data-lt="Selector|Selectors">Selector</dfn></dt>
                  <dd>An object used to describe how to determine the Segment from within the 
                    <a href="#dfn-source" class="internalDFN" data-link-type="dfn">Source</a> resource
                  </dd>
                    
                  <dt><dfn data-lt="State|States">State</dfn></dt>
                  <dd>object is used to describe how to determine the state of interest from within the 
                    <a href="#dfn-source" class="internalDFN" data-link-type="dfn">Source</a> resource
                  </dd>
                    
                  <dt><dfn data-lt="Property|Properties">Property</dfn></dt>
                  <dd>A feature of a <a>Resource</a>, that often has a particular data type.  In the model sections, the term "Property" is used to refer to only those features which are <em>not</em> <a>Relationships</a> and instead have a literal value such as a string, integer, or date.  The valid values for a Property are thus any data type other than object, or an array containing members of that data type if more than one is allowed.</dd>

                  <dt><dfn data-lt="Relationship|Relationships">Relationship</dfn></dt>
                  <dd>In the model sections, the term "Relationship" is used to distinguish those features that refer to other <a>Resources</a>, either by reference to the <a>Resource</a>'s <a>IRI</a> or by including a description of the <a>Resource</a> in the representation. The valid values for a Relationship are: a quoted string containing an IRI, an object that has the "id" property, or an array containing either of these if more than one is allowed.</dd>

                  <dt><dfn data-lt="Class|Classes">Class</dfn></dt>
                  <dd><a>Resources</a> may be divided, conceptually, into groups called "classes"; members of a class are known as <a>Instances</a> of that class. Resources are associated with a particular class through <a>typing</a>. Classes are identified by <a>IRIs</a>, i.e., they are also <a>Web Resources</a> themselves.</dd>

                  <dt><dfn data-lt="type|types|typing">Type</dfn></dt>
                  <dd>A special <a>Relationship</a> that associates an <a>Instance</a> of a class to the <a>Class</a> it belongs to.</dd>

                  <dt><dfn data-lt="Instance|Instances">Instance</dfn></dt>
                  <dd>An element of a group of <a>Resources</a> represented by a particular <a>Class</a>.</dd>

                </dl>
            </section>
        </section>

        <section>
            <h3>Annotations Embedded as JSON-LD</h3>
            <p>JSON-LD [[json-ld]] is the serialization format specified in the Web Annotation Data Model [[annotation-model]].
              HTML can accommodate this serialization format directly via the use of the HTML <code>&lt;script&gt;</code> element with its
              <code>type</code> attribute assigned the media type for a Web Annotation: 
                <code>application/ld+json;profile="http://www.w3.org/ns/anno.jsonld"</code>. 
              </p>
            
            <p>The following three annotations are all embedded in a single HTML document.  This document describes a digital image created by 
                scanning a page from a Renaissance-era book; the object scanned was known as an emblem. A JPEG image of the emblem is linked 
                from the HTML document using an <code>&lt;img&gt;</code> element. A transcription of the German language text of the emblem 
                motto (i.e., the emblem's caption) is included in the HTML document.
            </p>
            
            <p><span style="font-weight:bold">Use case for Example 1:</span> Mara wants to annotate the transcription of the emblem motto
                with its Latin translation. The target of the annotation is the motto transcription which is contained in a 
                <code>&lt;div&gt;</code> element within the HTML document that has an <code>id</code> attribute 
                with the value <code>"mottoTranscription"</code>. 
                The body of the annotation is the plain text of the Latin translation. Because the target of the annotation is contained
                within an element of the HTML document which has an id attribute, a CSS Selector can be used to exactly identify the
                segment of the HTML document that is being targeted by the annotation. To embed the body of the annotation, a TextualBody is used.
            </p>
            
            <h4>JSON-LD Example 1</h4>
            <pre class="example highlight" title="Annotating a transcribed motto">
            &lt;script type='application/ld+json;profile="http://www.w3.org/ns/anno.jsonld"'&gt;
            {
                "@context": "http://www.w3.org/ns/anno.jsonld",
                "id": "http://example.org/annotations/anno-01",
                "type": "Annotation",
                "motivation": "describing",

                "target": {
                    "source": "http://example.org/Emblem004.html",
                    "selector": {
                        "type": "CssSelector",
                        "value": "div#mottoTranscription"
                    }
                },

                "body": {
                    "type": "TextualBody",
                    "value": "Fiunt, quae posse negabas.",
                    "format": "text/plain",
                    "language": "la"
                },

                "created": "2017-01-26T17:30:04.639Z",
                "creator": {
                    "type": "Person",
                    "email": "mail-to:mara@example.org",
                    "name": "Mara"
                }
            }
            &lt;/script&gt;
            </pre>

            <p><span style="font-weight:bold">Use case for Example 2</span>: Tim wants to tag the emblem image linked from the 
                HTML document with an Iconclass descriptor. (Iconclass [[iconclass]] is a linked open data friendly, multilingual classification 
                system for cultural content.) The body of this annotation is therefore an External Web Resource.  To make clear that the image is
                being annotated within the context of the Web page describing the emblem, a SpecificResource with a scope property is used
                to express the target of the annotation.
            </p>

            <h4>JSON-LD Example 2</h4>
            <pre class="example highlight" title="Annotating the embedded image">
            &lt;script type='application/ld+json;profile="http://www.w3.org/ns/anno.jsonld"'&gt;
            {
                "@context": "http://www.w3.org/ns/anno.jsonld",
                "id": "http://example.org/annotations/anno-02",
                "type": "Annotation",
                "motivation": "tagging",

                "target": {
                    "source": "http://example.org/images/E4.jpg",
                    "scope": "http://example.org/Emblem004.html"
                },

                "body": "http://iconclass.org/rkd/25F24",

                "created": "2017-01-26T18:16:42.26Z",
                "creator": {
                    "type": "Person",
                    "email": "mailto:tim@example.org",
                    "name": "Tim"
                }
            }
            &lt;/script&gt;
            </pre>

            <p><span style="font-weight:bold">Use case for Example 3</span>: Myung-Ja wants to link the description of this emblem
                to the description of another emblem digitized at the University of Illinois. As with Example 1, a CSS Selector is
                used to express the target of this annotation. While HTML <code>&lt;script&gt;</code> elements
                are allowed in both the HTML <code>&lt;head&gt;</code> and the HTML <code>&lt;body&gt;</code> elements, it is suggested to
                add embedded annotations to the <code>&lt;head&gt;</code> element when targeting the whole or any part of the <code>&lt;body&gt;</code>
                element of an HTML document; this avoids any potential ambiguity that might arise from an annotation targeting itself.
            </p>
            <h4>JSON-LD Example 3</h4>
            <pre class="example highlight" title="Annotating the body of a Web page">
            &lt;script type='application/ld+json;profile="http://www.w3.org/ns/anno.jsonld"'&gt;
            {
                "@context": "http://www.w3.org/ns/anno.jsonld",
                "id": "http://example.org/annotations/anno-03",
                "type": "Annotation",
                "motivation": "linking",

                "target": {
                    "source": "http://example.org/Emblem004.html",
                    "selector": {
                        "type": "CssSelector",
                        "value": "body"
                    }
                },

                "body": "http://hdl.handle.net/10111/EmblemRegistry:E012658",

                "created": "2017-01-26T18:41:43.218Z",
                "creator": {
                    "type": "Person",
                    "email": "mailto:mj@example.org",
                    "name": "Myung-Ja"
                }
            }
            &lt;/script&gt;
            </pre>
          
            <p></p>          
        </section>

        <section>
            <h3>Annotations Embedded as RDFa</h3>
            <p>TODO: Describe how dokieli embeds Web Annotations in HTML using RDFa. Include examples of annotations in RDFa. 
                     Otherwise keep relatively succint and focused on the annotation in RDFa, with less about the complete application
                     Instead point to the application...</p>
            <p>TODO: Summarize comparitive advantages of this approach, e.g., markup of the target with attributes, etc. ...</p>
            <h4>Example</h4>
            
            <pre class="example highlight" title="dokieli_Example(s)">GET /annotation/csarven.ca/linked-data-notifications/decentralisation HTTP/1.1
Host: linkedresearch.org
Accept: text/html
Accept-Language: en-GB,en;q=0.8, en-US;q=0.6

HTTP/1.1 200 OK
Content-Type: text/html;charset=utf-8
Content-Language: en

&lt;!DOCTYPE html&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8" /&gt;
    &lt;title&gt;https://linkedresearch.org/annotation/csarven.ca/linked-data-notifications/decentralisation&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;main&gt;
      &lt;article id="decentralisation" about="i:" typeof="oa:Annotation" prefix="rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns# schema: http://schema.org/ dcterms: http://purl.org/dc/terms/ oa: http://www.w3.org/ns/oa# i: https://linkedresearch.org/annotation/csarven.ca/linked-data-notifications/decentralisation"&gt;
        &lt;h1 property="schema:name"&gt;Sarven Capadisli &lt;span rel="oa:motivatedBy" resource="oa:comments"&gt;comments&lt;/span&gt;&lt;/h1&gt;
        &lt;dl class="author-name"&gt;&lt;dt&gt;Authors&lt;/dt&gt;&lt;dd&gt;&lt;span rel="schema:creator"&gt;&lt;span about="http://csarven.ca/#i" typeof="schema:Person"&gt;&lt;img alt="" height="48" rel="schema:image" src="http://csarven.ca/media/images/sarven-capadisli.jpg" width="48" /&gt; &lt;a href="http://csarven.ca/" rel="schema:url"&gt;&lt;span about="http://csarven.ca/#i" property="schema:name"&gt;Sarven Capadisli&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/dd&gt;&lt;/dl&gt;
        &lt;dl class="published"&gt;&lt;dt&gt;Published&lt;/dt&gt;&lt;dd&gt;&lt;a href="https://linkedresearch.org/annotation/csarven.ca/linked-data-notifications/decentralisation"&gt;&lt;time datetime="2016-12-15T11:31:40.622Z" datatype="xsd:dateTime" property="schema:datePublished" content="2016-12-15T11:31:40.622Z"&gt;2016-12-15 11:31:40&lt;/time&gt;&lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;
        &lt;dl class="rights"&gt;&lt;dt&gt;Rights&lt;/dt&gt;&lt;dd&gt;&lt;a href="https://creativecommons.org/licenses/by/4.0/" rel="dcterms:rights"&gt;CC BY 4.0&lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;
        &lt;dl class="canonical"&gt;&lt;dt&gt;Canonical&lt;/dt&gt;&lt;dd about="i:" rel="oa:canonical" resource="urn:uuid:5fdc8f8d-5930-4a81-8534-cad81af7d9c1"&gt;5fdc8f8d-5930-4a81-8534-cad81af7d9c1&lt;/dd&gt;&lt;/dl&gt;
        &lt;dl class="target"&gt;&lt;dt&gt;&lt;a href="http://csarven.ca/linked-data-notifications#abstract" rel="oa:hasTarget"&gt;In reply to&lt;/a&gt; (&lt;a about="http://csarven.ca/linked-data-notifications#abstract" href="http://csarven.ca/linked-data-notifications" rel="oa:hasSource" typeof="oa:SpecificResource"&gt;part of&lt;/a&gt;)&lt;/dt&gt;&lt;dd&gt;&lt;blockquote about="http://csarven.ca/linked-data-notifications#abstract" cite="http://csarven.ca/linked-data-notifications#abstract"&gt;&lt;span rel="oa:hasSelector" resource="i:#fragment-selector" typeof="oa:FragmentSelector"&gt;&lt;meta property="rdf:value" content="#abstract" xml:lang="" lang="" rel="dcterms:conformsTo" resource="https://tools.ietf.org/html/rfc3987" /&gt;&lt;span rel="oa:refinedBy" resource="i:#text-quote-selector" typeof="oa:TextQuoteSelector"&gt;&lt;span property="oa:prefix" xml:lang="en" lang="en"&gt;N provides a building block for &lt;/span&gt;&lt;mark property="oa:exact" xml:lang="en" lang="en"&gt;decentralised&lt;/mark&gt;&lt;span property="oa:suffix" xml:lang="en" lang="en"&gt; Web applications. This permits e&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;dl class="renderedvia"&gt;&lt;dt&gt;Rendered via&lt;/dt&gt;&lt;dd&gt;&lt;a about="http://csarven.ca/linked-data-notifications#abstract" href="https://dokie.li/" rel="oa:renderedVia"&gt;dokieli&lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;
        &lt;section id="note-decentralisation" rel="oa:hasBody" resource="i:#note-decentralisation"&gt;&lt;h2 property="schema:name"&gt;Note&lt;/h2&gt;&lt;div datatype="rdf:HTML" property="rdf:value schema:description" resource="i:#note-decentralisation" typeof="oa:TextualBody"&gt;Communities have various semantics for the term &lt;em&gt;decentralisation&lt;/em&gt;.&lt;/div&gt;&lt;dl class="rights"&gt;&lt;dt&gt;Rights&lt;/dt&gt;&lt;dd&gt;&lt;a href="https://creativecommons.org/licenses/by/4.0/" rel="dcterms:rights"&gt;CC BY 4.0&lt;/a&gt;&lt;/dd&gt;&lt;/dl&gt;&lt;/section&gt;
      &lt;/article&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
        </section>

        <section>
          <h3>Web Annotation-based Citation URLs</h3>
          <p>The Selectors and States Note [[selectors-states]] published by the Web Annotation Working Group includes information on encoding
              <a data-cite="selectors-states#frags">Web Annotation Selectors and State classes as IRI Fragmenet Identifiers</a>. The following
              examples show how these URLs could be used to reference portions of a Specific Resource on the Web via IRIs:
          </p>

          <h4>Example using &lt;blockquote&gt; and &lt;q&gt; tags</h4>

          <pre class="example highlight" title="Example blockquote and q tags using the cite attribute">
            &lt;blockquote cite="https://www.w3.org/TR/annotation-model/"&gt;
              &lt;q cite="https://www.w3.org/TR/annotation-model/#selector(type=TextPositionSelector,start=8424,end=8270)"&gt;
              An annotation is considered to be a set of connected resources, typically including
               a body and target, and conveys that the body is related to the target.&lt;/q&gt;

              &lt;q cite="https://www.w3.org/TR/annotation-model/#selector(type=TextPositionSelector,start=8651,end=8576)"&gt;
              This perspective results in a basic model with three parts, depicted below.&lt;/q&gt;

              &lt;!-- TODO: how do we make this an annotation? --&gt;
              &lt;img src="images/intro_model.png" alt="Basic Model: Annotation, Body and Target" width="400"/&gt;
            &lt;/blockquote&gt;
          </pre>

          <p>The Selectors and States Note [[selectors-states]] explains that fragment identifiers are technically defined when the media
          type is specified. However in practice the utilization of fragment identifiers by publishers and developers ranges from
          browser state handling to anchoring highlights of quotations (as seen here).</p>

          <p>Using these fragement identifiers as values of the <code>cite</code> attribute on <code>&lt;blockquote&gt;</code>
          and <code>&lt;q&gt;</code> tags provides a means for both specificity and future extensibility. Site authors as well as
          browser, server, and JavaScript developers may take advantage of these citations identifiers for re-anchoring selection
          or extracting (and verifying) quotions made within an HTML document which uses this method.</p>

          <h4>Example using an &lt;a&gt; tag</h4>

          <p>Using the same methods described above, <code>&lt;a&gt;</code> tags may also be used to express a desired highlight or reference. However,
          as mentioned above, the use of that fragement within the retrieved resource may vary.</p>

          <pre class="example highlight" title="Example using an anchor tag">
            &lt;p&gt;According to the Web Annotation Data Model spec
            &lt;a href="https://www.w3.org/TR/annotation-model/#selector(type=TextPositionSelector,start=8424,end=8270)"&gt;
            an annotation is considered to be a set of what things?&lt;/a&gt;
            (click the link to find out!)&lt;/p&gt;
          </pre>
        </section>

        <section>
            <h3>Annotations Embedded in HTML as ??? - space for an additional approach</h3>
            <p>TODO: Describe how Web Annotations can be embedded in HTML using an additional approach?</p>
            <p>TODO: Summarize comparitive advantages of this approach, e.g., ...</p>
            <p>TODO: If this method overlaps with either of 2 previous sections, title it so as to make it distinctive (and 
                     adjust title of earlier section as necessary ...)</p>
            <h4>Example</h4>
            
            <pre class="example highlight" title="Approach 3 examples">
            <p>TODO: some HTML with ???...</p>
            </pre>
        </section>
        
        
        <section>
        <h2>Selectors?</h2>
        <p>Do we want to say something about selectors that apply for HTML.  This is important especially for json-ld approach(es). </p>
    </section>

    <section class="appendix">
    <h3>Acknowledgements</h3>

    <p>The Web Annotation Working Group gratefully acknowledges the contributions of the <a href="http://www.w3.org/community/openannotation/">Open Annotation Community Group</a>.  The <a href="http://www.openannotation.org/spec/core">output</a> of the Community Group was fundamental to the current data model.  In particular the editors would like to thank Herbert Van de Sompel of Los Alamos National Laboratory for his editorial contributions throughout the Community Group process.
    </p>

    <p>The following people have been instrumental in providing thoughts, feedback, reviews, content, criticism and input in the creation of this specification:</p>

    <div style="margin-left: 3em">
    Vladimir Alexiev, Art Barstow, Tim Berners-Lee, Chris Birk, Dan Brickley, Sarven Capadisli, Paolo Ciccarese, Tim Cole, Ray Denenberg, TB Dinesh, Sergiu Gordea, Benjamin Goering, Amy Guy, Ivan Herman, Frederick Hirsch, Antoine Isaac, Jacob Jett, Takeshi Kanai, Gregg Kellogg, Andreas Kuckartz, Randall Leeds, Hugo Manguinhas, Ben De Meester, Luc Moreau, Addison Phillips, Davis Salisbury, Robert Sanderson, Felix Sasaki, Doug Schepers, Tzviya Siegman, Stian Soiland-Reyes, Manu Sporny, Nick Stenning, Jon Stroop, Lutz Suhrbier, Kyrce Swenson, Raphaël Troncy, Simeon Warner, Erik Wilde, Dan Whaley, Benjamin Young
    </div>
    </section>

</body>
</html>
