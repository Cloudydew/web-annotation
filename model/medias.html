<!DOCTYPE html>
<html>
  <head>
    <title>Selectors and Media Types</title>
    <meta charset='utf-8'></meta>
    <style>
        .model {
            empty-cells: show;
            border-collapse: collapse;
            margin-bottom: .5ex;
            border: 1px solid black;
            width: 100%;
        }

        .model th {
            padding: 3px;
            border: 1px solid #404040;
            text-align: center;
            font-weight: bold;
        }

        .model td {
            padding: 5px;
            border: 1px solid #404040;
            text-align: left;
        }

        .ex_title {
            margin-top: 2rem;
            font-style: italic;
            color: #005A9C;
        }
      </style>
      <script src='https://www.w3.org/Tools/respec/respec-w3c-common' async='true' class='remove'></script>
      <script class='remove'>
      var respecConfig = {
          specStatus: "base",
          shortName:  "selectors-media",
          editors: [
                {   name:       "Ivan Herman",
                    url:        "http://www.w3.org/People/Ivan/",
                    company:    "W3C",
                    companyURL: "http://www.w3.org",
                    mailto:     "ivan@w3.org"  },
                {   name:       "Robert Sanderson",
                    url:        "http://www.stanford.edu/~azaroth/",
                    company:    "Stanford University",
                    companyURL: "http://www.stanford.edu/",
                    mailto:     "azaroth42@gmail.com"  },
                {   name:       "Paolo Ciccarese",
                    url:        "http://www.paolociccarese.info",
                    company:    "Massachusetts General Hospital",
                    companyUrl: "",
                    mailto:     "paolo.ciccarese@gmail.com "
                },
                {   name:       "Benjamin Young",
                    url:        "http://bigbluehat.com/",
                    company:    "Invited Expert",
                    companyURL: "",
                    mailto:     "byoung@bigbluehat.com"
                }
          ],
          // previousMaturity:     "WD",
          // previousPublishDate:  "2015-10-15",
          // previousURI:          "http://www.w3.org/TR/2015/WD-annotation-model-20151015/",
          // publishDate:          "2016-03-31",
          edDraftURI:           "http://w3c.github.io/web-annotation/selectors/",
          wg:                   "Web Annotation Working Group",
          wgURI:                "http://www.w3.org/annotation/",
          wgPublicList:         "public-annotation",
          wgPatentURI:          "http://www.w3.org/2004/01/pp-impl/73180/status",
          noRecTrack:           true,
          localBiblio: {
            "iana-media-types": {
                title: "Media Types",
                href: "http://www.iana.org/assignments/media-types/",
                publisher: "IANA (Internet Assigned Numbers Authority)"
            },
            "w3c-language-tags": {
                title: "Language Tags in HTML and XML",
                href: "https://www.w3.org/International/articles/language-tags/",
                publisher: "W3C"
            },
            "annotation-vocab": {
              "authors": [
                 "Robert Sanderson",
                 "Paolo Ciccarese",
                 "Benjamin Young"
              ],
              title: "Web Annotation Vocabulary",
              href: "http://www.w3.org/TR/2016/WD-annotation-vocab-20160331/",
              publisher: "W3C",
              rawDate: "2016-03-31",
              status: "WD"
            },
            "annotation-model": {
              "authors": [
                    "Robert Sanderson",
                    "Paolo Ciccarese",
                    "Benjamin Young"
              ],
              title: "Web Annotation Data Model",
              href: "http://www.w3.org/TR/2016/WD-annotation-model-20160331/",
              publisher: "W3C",
              rawDate: "2016-03-31",
              status: "WD"
            },
            "cfi": {
                "authors" : [
                    "Peter Sorotokin",
                    "Garth Conboy",
                    "Brady Duga",
                    "John Rivlin",
                    "Don Beaver",
                    "Kevin Ballard",
                    "Alastair Fettes",
                    "Daniel Weck"
                ],
                title: "EPUB Canonical Fragment Identifiers",
                href: "http://www.idpf.org/epub/linking/cfi/epub-cfi-20140628.html",
                publisher: "IDPF",
                rawDate: "2014-06-26",
                status: "Recommended Specification"
            }
          },
          otherLinks: [
            {
                key: "Repository",
                data: [{
                    value: "Github Repository",
                    href: "https://github.com/w3c/web-annotation"
                }, {
                    value: "File an issue",
                    href: "https://github.com/w3c/web-annotation/issues"
                }]
            }
        ],
        noIDLIn: true,
        issueBase: "https://github.com/w3c/web-annotation/issues/"
      };
      </script>
    </head>
    <body>
        <section id="abstract">
            <p>TBD.</p>
        </section>

        <section id="sotd">
        </section>

        <section>
            <h2>Relationships between media types and selectors</h2>
            <p>Not all selectors are relevant for all media types; some combinations are meaningless or not formally defined. An implementation may therefore ignore certain types of selectors in case the corresponding media types are not handled by that particular implementation.</p>

            <p>The table in <a href="#media_selector"></a> shows the correspondance among the main media types addressed in this specification and selectors. The meaning of the table elements, and their affect on implementation conformance, is as follows.</p>

            <ul>
                <li>A “✔︎” sign in the table means that the selector is relevant for that particular media types. A conformant implementation MUST implement that particular combination <em>if</em> it handles the corresponding media type.</li>

                <li>A “✘” sign in the table means that the selector is not relevant for that particular media types. Conformant implementations SHOULD ignore that particular combination.</li>

                <li>A “?” means that it is not possible to specify, in general, whether that particular combination is meaningful (e.g., fragment identifiers are defined for specific media types, i.e., specific text media types other than plain text may have fragments defined but they are not listed in the table). In other cases the usefulness of such combination is not clear (e.g., Data Position selectors for binary images). Conformant implementations MAY implement that particular combination.</li>
            </ul>

        </section>
        <section id="media_selector" class="appendix">
            <h2>Correspondance among media types and selectors</h2>

            <p>The table below shows the relationships among main media types and selector types. It is relevant to the <a href="#conformance"></a> section of this document.
            </p>

            <table id="media_table" class="data">
              <thead>
                <tr>
                  <td> </td>
                  <th>Fragment</th>
                  <th>CSS</th>
                  <th>XPath</th>
                  <th>Text Quote</th>
                  <th>Text Position</th>
                  <th>Data Position</th>
                  <th>Svg</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>HTML (text/html)</th>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>CSV (text/csv)</th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>Plain Text (text/plain)</th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>Other text files (text/*) </th>
                  <td>?</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>EPUB2, EPUB3 (application/epub+zip)</th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>PDF (application/pdf) </th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>XML (application/xml, application/*+xml) </th>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>SVG (image/svg+xml)</th>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✔︎</td>
                </tr>
                <tr>
                  <th>Image, other than SVG (image/gif, image/jpeg, image/png,
                    image/tiff)</th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>?</td>
                  <td>✔︎</td>
                </tr>
                <tr>
                  <th>Video (video/*)</th>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>?</td>
                  <td>✔︎</td>
                </tr>
                <tr>
                  <th>Binary Data Files</th>
                  <td>?</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✘</td>
                </tr>
              </tbody>
            </table>

        <section class="informative">
            <h2>Additional media types/selector combination</h2>

            <p>The table below contains some other, possible combinations of media types and selector types, which MAY be implemented but are not mandated by this specification. Some of these combinations may also form the basis for defining new, implementation-specific selector extensions.</p>

            <table class="data">
              <caption>Additional relationships among other media types and selector types</caption>
              <thead>
                <tr>
                  <td> </td>
                  <th>Fragment</th>
                  <th>CSS</th>
                  <th>XPath</th>
                  <th>Text Quote</th>
                  <th>Text Position</th>
                  <th>Data Position</th>
                  <th>Svg</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th>CSS (text/css)</th>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>TSV (text/tab-separated-values)</th>
                  <td>✔︎<sup>✝</sup></td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>✔︎</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>RDF/Turtle (text/turtle)</th>
                  <td>✔︎<sup>✝</sup></td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>?</td>
                  <td>?</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>JSON (application/json, application/*+json)</th>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>?</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
                <tr>
                  <th>Programming languages (application/javascript, python files, etc.)</th>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✘</td>
                  <td>✔︎</td>
                  <td>?</td>
                  <td>✘</td>
                  <td>✘</td>
                </tr>
              </tbody>
              <tfoot>
                  <tr>
                      <td colspan="8" style="font-size:70%">
                          <sup>✝</sup>Fragments are not formally defined through IETF, though there are well-known connections to existing fragments or practices
                      </td>
                  </tr>
              </tfoot>
            </table>
        </section>
    </section>
</body>
</html>
